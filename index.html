<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronograma Semanal del Show 2025</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #f1f5f9 0%, #e0f2fe 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .progress-bar {
            transition: width 0.3s ease-in-out;
        }
        @media print {
            .no-print { display: none !important; }
            body { background: white !important; }
        }
        /* Animaciones personalizadas */
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide-in {
            animation: slideIn 0.3s ease-out;
        }
        /* Hover effects personalizados */
        .task-card:hover {
            transform: translateY(-2px);
            transition: all 0.2s ease;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // Iconos SVG personalizados
        const IconCalendar = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
        );

        const IconUser = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </svg>
        );

        const IconCheckCircle = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
        );

        const IconAlertCircle = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
        );

        const IconFileText = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14,2 14,8 20,8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
                <polyline points="10,9 9,9 8,9"/>
            </svg>
        );

        const IconVideo = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polygon points="23 7 16 12 23 17 23 7"/>
                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
            </svg>
        );

        const IconGlobe = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"/>
                <line x1="2" y1="12" x2="22" y2="12"/>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
            </svg>
        );

        const IconMail = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
            </svg>
        );

        const IconSettings = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="3"/>
                <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1m11-7a4 4 0 0 0-8 0m8 14a4 4 0 0 0-8 0"/>
            </svg>
        );

        const IconNetwork = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="16" y="16" width="6" height="6" rx="1"/>
                <rect x="2" y="16" width="6" height="6" rx="1"/>
                <rect x="9" y="2" width="6" height="6" rx="1"/>
                <path d="M12 8v8m-7 0l7-8m7 8l-7-8"/>
            </svg>
        );

        const IconBarChart = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <line x1="12" y1="20" x2="12" y2="10"/>
                <line x1="18" y1="20" x2="18" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="16"/>
            </svg>
        );

        const IconFilter = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
            </svg>
        );

        const IconDownload = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
        );

        const IconClock = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
            </svg>
        );

        const IconEye = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
            </svg>
        );

        const IconZap = ({ className = "w-4 h-4" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
            </svg>
        );

        const CronogramaShow = () => {
            const [selectedTask, setSelectedTask] = useState(null);
            const [viewMode, setViewMode] = useState('gantt');
            const [filterBy, setFilterBy] = useState('all');
            const [selectedResponsible, setSelectedResponsible] = useState('all');
            const [showProgress, setShowProgress] = useState(true);
            const [showAlerts, setShowAlerts] = useState(true);

            // Datos del cronograma
            const weeks = [
                { id: 30, label: 'Sem 30', dates: '21-27 Jul', color: 'bg-blue-500', borderColor: 'border-blue-500' },
                { id: 31, label: 'Sem 31', dates: '28 Jul-3 Ago', color: 'bg-green-500', borderColor: 'border-green-500' },
                { id: 32, label: 'Sem 32', dates: '4-10 Ago', color: 'bg-purple-500', borderColor: 'border-purple-500' },
                { id: 33, label: 'Sem 33', dates: '11-17 Ago', color: 'bg-orange-500', borderColor: 'border-orange-500' },
                { id: 34, label: 'Sem 34', dates: '18-24 Ago', color: 'bg-red-500', borderColor: 'border-red-500' },
                { id: 35, label: 'Sem 35', dates: '25-31 Ago', color: 'bg-indigo-500', borderColor: 'border-indigo-500' },
                { id: 36, label: 'Sem 36', dates: '1-7 Sep', color: 'bg-teal-500', borderColor: 'border-teal-500' }
            ];

            const deliverableTypes = {
                'Global': { icon: <IconGlobe />, color: 'bg-blue-100 text-blue-800' },
                'Lista': { icon: <IconFileText />, color: 'bg-green-100 text-green-800' },
                'Cronograma': { icon: <IconCalendar />, color: 'bg-purple-100 text-purple-800' },
                'URL': { icon: <IconGlobe />, color: 'bg-orange-100 text-orange-800' },
                'Word': { icon: <IconFileText />, color: 'bg-gray-100 text-gray-800' },
                'Video': { icon: <IconVideo />, color: 'bg-red-100 text-red-800' },
                'Plataformas contratadas': { icon: <IconSettings />, color: 'bg-indigo-100 text-indigo-800' },
                'Confirmación': { icon: <IconCheckCircle />, color: 'bg-green-100 text-green-800' },
                'Network': { icon: <IconNetwork />, color: 'bg-cyan-100 text-cyan-800' },
                'Agenda confirmada': { icon: <IconCalendar />, color: 'bg-yellow-100 text-yellow-800' },
                'Envío': { icon: <IconMail />, color: 'bg-pink-100 text-pink-800' },
                'Confirmaciones': { icon: <IconUser />, color: 'bg-violet-100 text-violet-800' }
            };

            const tasks = [
                {
                    id: 1,
                    category: 'Gerencia del Show',
                    task: 'Coordinación de hilos',
                    responsible: 'Wilson P',
                    deliverable: 'Global',
                    weeks: [30, 31, 33, 36],
                    priority: 'high',
                    progress: 75,
                    dependencies: [],
                    status: 'in-progress'
                },
                {
                    id: 2,
                    category: 'Gerencia del Show',
                    task: 'Delegado de TI',
                    responsible: 'Wilson P',
                    deliverable: 'Global',
                    weeks: [30, 31, 33, 36],
                    priority: 'high',
                    progress: 60,
                    dependencies: [],
                    status: 'in-progress'
                },
                {
                    id: 3,
                    category: 'Gerencia del Show',
                    task: 'Comunicaciones',
                    responsible: 'Wilson P',
                    deliverable: 'Global',
                    weeks: [30],
                    priority: 'medium',
                    progress: 100,
                    dependencies: [],
                    status: 'done'
                },
                {
                    id: 4,
                    category: 'Lista de interlocutores',
                    task: 'Área Técnica - Fin. Externos - Proc. Precon - Legal',
                    responsible: 'Diego A',
                    deliverable: 'Lista',
                    weeks: [30],
                    priority: 'medium',
                    progress: 90,
                    dependencies: [],
                    status: 'in-progress'
                },
                {
                    id: 5,
                    category: 'Cronograma',
                    task: 'Definición del cronograma de proyecto',
                    responsible: 'Francisco P',
                    deliverable: 'Cronograma',
                    weeks: [32],
                    priority: 'high',
                    progress: 25,
                    dependencies: [4],
                    status: 'to-do'
                },
                {
                    id: 6,
                    category: 'Micrositio',
                    task: 'Creación del Micrositio',
                    responsible: 'Delegado IT MTOP',
                    deliverable: 'URL',
                    weeks: [32],
                    priority: 'high',
                    progress: 0,
                    dependencies: [5],
                    status: 'to-do'
                },
                {
                    id: 7,
                    category: 'Formulario F1',
                    task: 'Contenido técnico del formulario (incluye premio de consolación)',
                    responsible: 'Francisco P',
                    deliverable: 'Word',
                    weeks: [32],
                    priority: 'medium',
                    progress: 0,
                    dependencies: [5],
                    status: 'to-do'
                },
                {
                    id: 8,
                    category: 'Estrategia de Comunicación',
                    task: 'Contenido de PRE-PRE, coordinación con prensa y contenidos',
                    responsible: '(Deleg. Com)',
                    deliverable: 'Word',
                    weeks: [33],
                    priority: 'high',
                    progress: 0,
                    dependencies: [6],
                    status: 'to-do'
                },
                {
                    id: 9,
                    category: 'Estrategia de Comunicación',
                    task: 'Canal YouTube - X etc',
                    responsible: 'María Jose Carvajal (BID)',
                    deliverable: 'Video',
                    weeks: [33],
                    priority: 'medium',
                    progress: 0,
                    dependencies: [8],
                    status: 'to-do'
                },
                {
                    id: 10,
                    category: 'Estrategia de Comunicación',
                    task: 'Preinscripción',
                    responsible: 'Delegado de TI MTOP',
                    deliverable: 'Plataformas contratadas',
                    weeks: [33],
                    priority: 'high',
                    progress: 0,
                    dependencies: [6],
                    status: 'to-do'
                },
                {
                    id: 11,
                    category: 'Estrategia de Comunicación',
                    task: 'Inscripción',
                    responsible: 'Delegado de Com MTOP',
                    deliverable: 'Plataformas contratadas',
                    weeks: [],
                    priority: 'medium',
                    progress: 0,
                    dependencies: [10],
                    status: 'to-do'
                },
                {
                    id: 12,
                    category: 'Hotel - Streaming',
                    task: 'Definición y presupuesto',
                    responsible: 'Juan C Brito',
                    deliverable: 'Confirmación',
                    weeks: [30],
                    priority: 'high',
                    progress: 100,
                    dependencies: [],
                    status: 'done'
                },
                {
                    id: 13,
                    category: 'Estrategia Connect Americas',
                    task: 'Coordinación interna',
                    responsible: 'Freddy A - Adriana Sal',
                    deliverable: 'Network',
                    weeks: [30],
                    priority: 'medium',
                    progress: 80,
                    dependencies: [],
                    status: 'in-progress'
                },
                {
                    id: 14,
                    category: 'Agenda de contenido',
                    task: 'Definir presentaciones y conferencias',
                    responsible: 'Roberto L',
                    deliverable: 'Agenda confirmada',
                    weeks: [30],
                    priority: 'high',
                    progress: 95,
                    dependencies: [],
                    status: 'in-progress'
                },
                {
                    id: 15,
                    category: 'Invitaciones formales',
                    task: 'Invitación a los emails',
                    responsible: 'TI MTOP (Deleg Com)',
                    deliverable: 'Envío',
                    weeks: [35],
                    priority: 'medium',
                    progress: 0,
                    dependencies: [10, 11],
                    status: 'to-do'
                },
                {
                    id: 16,
                    category: 'Invitaciones a VIPs',
                    task: 'Definición',
                    responsible: 'Geovanni M',
                    deliverable: 'Confirmaciones',
                    weeks: [36],
                    priority: 'high',
                    progress: 0,
                    dependencies: [14, 15],
                    status: 'to-do'
                }
            ];

            // Funciones de filtrado
            const uniqueResponsibles = [...new Set(tasks.map(t => t.responsible))];
            
            const filteredTasks = tasks.filter(task => {
                if (filterBy !== 'all' && task.category !== filterBy) return false;
                if (selectedResponsible !== 'all' && task.responsible !== selectedResponsible) return false;
                return true;
            });

            const uniqueCategories = [...new Set(tasks.map(t => t.category))];

            const getPriorityColor = (priority) => {
                switch (priority) {
                    case 'high': return 'border-red-400 bg-red-50';
                    case 'medium': return 'border-yellow-400 bg-yellow-50';
                    default: return 'border-gray-400 bg-gray-50';
                }
            };

            const getPriorityDot = (priority) => {
                switch (priority) {
                    case 'high': return 'bg-red-500';
                    case 'medium': return 'bg-yellow-500';
                    default: return 'bg-gray-500';
                }
            };

            const getStatusColor = (status) => {
                switch (status) {
                    case 'done': return 'bg-green-500';
                    case 'in-progress': return 'bg-blue-500';
                    case 'to-do': return 'bg-gray-400';
                    default: return 'bg-gray-400';
                }
            };

            const getProgressColor = (progress) => {
                if (progress >= 75) return 'bg-green-500';
                if (progress >= 50) return 'bg-yellow-500';
                if (progress >= 25) return 'bg-orange-500';
                return 'bg-red-500';
            };

            const isTaskOverdue = (task) => {
                const currentWeek = 30;
                return task.weeks.some(week => week < currentWeek) && task.progress < 100;
            };

            const exportToPDF = () => {
                window.print();
            };

            const renderGanttView = () => (
                <div className="overflow-x-auto">
                    <div className="min-w-full">
                        <div className="grid grid-cols-10 bg-gray-100 border-b sticky top-0 z-10">
                            <div className="col-span-3 p-4 font-semibold text-gray-700 border-r">
                                Tarea / Responsable / Entregable
                            </div>
                            {weeks.map((week) => (
                                <div key={week.id} className="p-3 text-center border-r last:border-r-0">
                                    <div className="font-semibold text-gray-800">{week.label}</div>
                                    <div className="text-xs text-gray-600 mt-1">{week.dates}</div>
                                </div>
                            ))}
                        </div>

                        <div className="divide-y divide-gray-200">
                            {filteredTasks.map((task) => (
                                <div 
                                    key={task.id} 
                                    className={`grid grid-cols-10 hover:bg-blue-50 transition-colors cursor-pointer task-card ${getPriorityColor(task.priority)} border-l-4 ${isTaskOverdue(task) && showAlerts ? 'ring-2 ring-red-300' : ''}`}
                                    onClick={() => setSelectedTask(selectedTask === task.id ? null : task.id)}
                                >
                                    <div className="col-span-3 p-4 border-r">
                                        <div className="flex items-start gap-3">
                                            <div className={`w-3 h-3 rounded-full mt-1 flex-shrink-0 ${getPriorityDot(task.priority)}`}></div>
                                            <div className="min-w-0 flex-grow">
                                                <div className="flex items-center gap-2 mb-1">
                                                    <span className="font-medium text-gray-900 text-sm">{task.category}</span>
                                                    {isTaskOverdue(task) && showAlerts && (
                                                        <IconAlertCircle className="text-red-500" />
                                                    )}
                                                </div>
                                                <div className="text-sm text-gray-700 mb-2 leading-snug">{task.task}</div>
                                                <div className="flex items-center gap-2 text-xs text-gray-600 mb-1">
                                                    <IconUser className="w-3 h-3" />
                                                    <span>{task.responsible}</span>
                                                </div>
                                                <div className={`flex items-center gap-2 text-xs px-2 py-1 rounded-full ${deliverableTypes[task.deliverable]?.color || 'bg-gray-100 text-gray-800'}`}>
                                                    {deliverableTypes[task.deliverable]?.icon}
                                                    <span>{task.deliverable}</span>
                                                </div>
                                                {showProgress && (
                                                    <div className="mt-2">
                                                        <div className="flex items-center gap-2 text-xs text-gray-600 mb-1">
                                                            <span>Progreso: {task.progress}%</span>
                                                        </div>
                                                        <div className="w-full bg-gray-200 rounded-full h-2">
                                                            <div 
                                                                className={`h-2 rounded-full progress-bar ${getProgressColor(task.progress)}`}
                                                                style={{ width: `${task.progress}%` }}
                                                            ></div>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                    
                                    {weeks.map((week) => (
                                        <div key={week.id} className="p-2 border-r last:border-r-0 relative">
                                            {task.weeks.includes(week.id) && (
                                                <div className={`${week.color} h-8 rounded-lg flex items-center justify-center text-white text-xs font-medium shadow-md hover:shadow-lg transition-shadow relative`}>
                                                    <IconCheckCircle />
                                                    {showProgress && (
                                                        <div className="absolute bottom-0 left-0 right-0 bg-black bg-opacity-20 rounded-b-lg text-center text-xs py-0.5">
                                                            {task.progress}%
                                                        </div>
                                                    )}
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const renderKanbanView = () => {
                const todoTasks = filteredTasks.filter(t => t.status === 'to-do');
                const inProgressTasks = filteredTasks.filter(t => t.status === 'in-progress');
                const doneTasks = filteredTasks.filter(t => t.status === 'done');

                const KanbanColumn = ({ title, tasks, bgColor, textColor }) => (
                    <div className="flex-1 min-w-80">
                        <div className={`${bgColor} ${textColor} p-4 rounded-t-lg font-semibold text-center`}>
                            {title} ({tasks.length})
                        </div>
                        <div className="bg-gray-100 min-h-96 p-4 space-y-3 rounded-b-lg">
                            {tasks.map(task => (
                                <div key={task.id} className={`bg-white p-4 rounded-lg shadow-sm border-l-4 task-card ${getPriorityColor(task.priority)} cursor-pointer hover:shadow-md transition-shadow animate-slide-in`}
                                     onClick={() => setSelectedTask(selectedTask === task.id ? null : task.id)}>
                                    <div className="flex items-center gap-2 mb-2">
                                        {deliverableTypes[task.deliverable]?.icon}
                                        <span className="font-medium text-sm">{task.category}</span>
                                    </div>
                                    <p className="text-sm text-gray-700 mb-2">{task.task}</p>
                                    <div className="flex items-center justify-between text-xs text-gray-500">
                                        <span>{task.responsible}</span>
                                        <span className={`px-2 py-1 rounded-full ${deliverableTypes[task.deliverable]?.color}`}>
                                            {task.deliverable}
                                        </span>
                                    </div>
                                    {showProgress && (
                                        <div className="mt-2">
                                            <div className="flex justify-between text-xs text-gray-600 mb-1">
                                                <span>Progreso</span>
                                                <span>{task.progress}%</span>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-1.5">
                                                <div 
                                                    className={`h-1.5 rounded-full progress-bar ${getProgressColor(task.progress)}`}
                                                    style={{ width: `${task.progress}%` }}
                                                ></div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>
                    </div>
                );

                return (
                    <div className="flex gap-4 overflow-x-auto p-4">
                        <KanbanColumn 
                            title="En Progreso" 
                            tasks={inProgressTasks} 
                            bgColor="bg-blue-500" 
                            textColor="text-white" 
                        />
                        <KanbanColumn 
                            title="Completado" 
                            tasks={doneTasks} 
                            bgColor="bg-green-500" 
                            textColor="text-white" 
                        />
                    </div>
                );
            };

            const renderCalendarView = () => (
                <div className="p-4">
                    <div className="grid grid-cols-7 gap-4">
                        {weeks.map(week => (
                            <div key={week.id} className="border rounded-lg overflow-hidden">
                                <div className={`${week.color} text-white p-3 text-center font-semibold`}>
                                    {week.label}
                                    <div className="text-xs opacity-90">{week.dates}</div>
                                </div>
                                <div className="p-2 min-h-32 space-y-1">
                                    {filteredTasks.filter(task => task.weeks.includes(week.id)).map(task => (
                                        <div key={task.id} 
                                             className={`text-xs p-2 rounded border-l-2 task-card ${getPriorityColor(task.priority)} cursor-pointer hover:shadow-sm`}
                                             onClick={() => setSelectedTask(selectedTask === task.id ? null : task.id)}>
                                            <div className="font-medium truncate">{task.category}</div>
                                            <div className="text-gray-600 truncate">{task.responsible}</div>
                                            <div className={`inline-block px-1 py-0.5 rounded text-xs ${deliverableTypes[task.deliverable]?.color}`}>
                                                {task.deliverable}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            const renderNetworkView = () => (
                <div className="p-6">
                    <div className="text-center mb-6">
                        <h3 className="text-lg font-semibold text-gray-900 mb-2">Vista de Red de Dependencias</h3>
                        <p className="text-gray-600">Visualización de las relaciones entre tareas</p>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        {filteredTasks.map(task => (
                            <div key={task.id} 
                                 className={`p-4 rounded-lg border-2 task-card ${task.dependencies.length > 0 ? 'border-orange-300 bg-orange-50' : 'border-gray-300 bg-white'} cursor-pointer hover:shadow-md transition-all animate-slide-in`}
                                 onClick={() => setSelectedTask(selectedTask === task.id ? null : task.id)}>
                                <div className="flex items-center gap-2 mb-2">
                                    <IconNetwork />
                                    <span className="font-medium text-sm">{task.category}</span>
                                </div>
                                <p className="text-sm text-gray-700 mb-2">{task.task}</p>
                                <div className="flex items-center justify-between text-xs text-gray-500 mb-2">
                                    <span>{task.responsible}</span>
                                    <span className={`px-2 py-1 rounded-full ${deliverableTypes[task.deliverable]?.color}`}>
                                        {task.deliverable}
                                    </span>
                                </div>
                                
                                {task.dependencies.length > 0 && (
                                    <div className="mt-3 pt-3 border-t border-orange-200">
                                        <div className="text-xs text-orange-700 font-medium mb-1">Depende de:</div>
                                        {task.dependencies.map(depId => {
                                            const depTask = tasks.find(t => t.id === depId);
                                            return (
                                                <div key={depId} className="text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mb-1">
                                                    {depTask?.category}: {depTask?.task.substring(0, 30)}...
                                                </div>
                                            );
                                        })}
                                    </div>
                                )}
                                
                                <div className="mt-2 flex items-center gap-2">
                                    <div className={`w-3 h-3 rounded-full ${getStatusColor(task.status)}`}></div>
                                    <span className="text-xs text-gray-600 capitalize">
                                        {task.status === 'to-do' ? 'Por hacer' : task.status === 'in-progress' ? 'En progreso' : 'Completado'}
                                    </span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            return (
                <div className="max-w-7xl mx-auto p-6 gradient-bg min-h-screen">
                    <div className="bg-white rounded-xl card-shadow overflow-hidden">
                        {/* Header */}
                        <div style={{background: 'linear-gradient(to right, #2563eb, #7c3aed)'}} className="text-white p-6">
                            <div className="flex items-center justify-between flex-wrap gap-4">
                                <div className="flex items-center gap-3">
                                    <IconCalendar className="w-8 h-8" />
                                    <div>
                                        <h1 className="text-3xl font-bold">Cronograma Semanal del Show 2025</h1>
                                        <p className="text-blue-100 mt-2">Gestión avanzada de tareas con múltiples vistas</p>
                                    </div>
                                </div>
                                <button 
                                    onClick={exportToPDF}
                                    className="no-print flex items-center gap-2 bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors font-medium"
                                >
                                    <IconDownload />
                                    Exportar PDF
                                </button>
                            </div>
                        </div>

                        {/* Controls */}
                        <div className="no-print p-4 bg-gray-50 border-b space-y-4">
                            {/* View Mode Selector */}
                            <div className="flex flex-wrap gap-2">
                                <button 
                                    onClick={() => setViewMode('gantt')}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${viewMode === 'gantt' ? 'bg-blue-500 text-white' : 'bg-white text-gray-600 hover:bg-gray-100'}`}
                                >
                                    <IconBarChart />
                                    Gantt
                                </button>
                                <button 
                                    onClick={() => setViewMode('kanban')}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${viewMode === 'kanban' ? 'bg-blue-500 text-white' : 'bg-white text-gray-600 hover:bg-gray-100'}`}
                                >
                                    <IconSettings />
                                    Kanban
                                </button>
                                <button 
                                    onClick={() => setViewMode('calendar')}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${viewMode === 'calendar' ? 'bg-blue-500 text-white' : 'bg-white text-gray-600 hover:bg-gray-100'}`}
                                >
                                    <IconCalendar />
                                    Calendario
                                </button>
                                <button 
                                    onClick={() => setViewMode('network')}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${viewMode === 'network' ? 'bg-blue-500 text-white' : 'bg-white text-gray-600 hover:bg-gray-100'}`}
                                >
                                    <IconNetwork />
                                    Red
                                </button>
                            </div>

                            {/* Filters */}
                            <div className="flex flex-wrap gap-4 items-center">
                                <div className="flex items-center gap-2">
                                    <IconFilter />
                                    <select 
                                        value={filterBy} 
                                        onChange={(e) => setFilterBy(e.target.value)}
                                        className="border border-gray-300 rounded px-3 py-1 text-sm"
                                    >
                                        <option value="all">Todas las categorías</option>
                                        {uniqueCategories.map(cat => (
                                            <option key={cat} value={cat}>{cat}</option>
                                        ))}
                                    </select>
                                </div>

                                <div className="flex items-center gap-2">
                                    <IconUser />
                                    <select 
                                        value={selectedResponsible} 
                                        onChange={(e) => setSelectedResponsible(e.target.value)}
                                        className="border border-gray-300 rounded px-3 py-1 text-sm"
                                    >
                                        <option value="all">Todos los responsables</option>
                                        {uniqueResponsibles.map(resp => (
                                            <option key={resp} value={resp}>{resp}</option>
                                        ))}
                                    </select>
                                </div>

                                <div className="flex items-center gap-4">
                                    <label className="flex items-center gap-2 text-sm text-gray-600">
                                        <input 
                                            type="checkbox" 
                                            checked={showProgress} 
                                            onChange={(e) => setShowProgress(e.target.checked)}
                                            className="rounded"
                                        />
                                        Mostrar progreso
                                    </label>
                                    <label className="flex items-center gap-2 text-sm text-gray-600">
                                        <input 
                                            type="checkbox" 
                                            checked={showAlerts} 
                                            onChange={(e) => setShowAlerts(e.target.checked)}
                                            className="rounded"
                                        />
                                        Alertas de vencimiento
                                    </label>
                                </div>
                            </div>

                            {/* Legend */}
                            <div className="flex flex-wrap gap-4 items-center text-sm">
                                <span className="font-medium text-gray-700">Prioridad:</span>
                                <div className="flex items-center gap-2">
                                    <div className="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <span className="text-gray-600">Alta</span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                    <span className="text-gray-600">Media</span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="w-3 h-3 bg-gray-500 rounded-full"></div>
                                    <span className="text-gray-600">Baja</span>
                                </div>
                                
                                <span className="font-medium text-gray-700 ml-4">Estado:</span>
                                <div className="flex items-center gap-2">
                                    <div className="w-3 h-3 bg-green-500 rounded-full"></div>
                                    <span className="text-gray-600">Completado</span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="w-3 h-3 bg-blue-500 rounded-full"></div>
                                    <span className="text-gray-600">En progreso</span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <div className="w-3 h-3 bg-gray-400 rounded-full"></div>
                                    <span className="text-gray-600">Por hacer</span>
                                </div>
                            </div>
                        </div>

                        {/* Main Content */}
                        <div className="min-h-96">
                            {viewMode === 'gantt' && renderGanttView()}
                            {viewMode === 'kanban' && renderKanbanView()}
                            {viewMode === 'calendar' && renderCalendarView()}
                            {viewMode === 'network' && renderNetworkView()}
                        </div>

                        {/* Task Details Panel */}
                        {selectedTask && (
                            <div className="bg-gradient-to-r from-blue-50 to-purple-50 border-t p-6 animate-slide-in">
                                {(() => {
                                    const task = tasks.find(t => t.id === selectedTask);
                                    return (
                                        <div className="max-w-6xl mx-auto">
                                            <div className="flex items-center justify-between mb-4">
                                                <h3 className="text-xl font-semibold text-gray-900 flex items-center gap-2">
                                                    <IconEye className="w-5 h-5" />
                                                    Detalles de la Tarea
                                                </h3>
                                                <button 
                                                    onClick={() => setSelectedTask(null)}
                                                    className="no-print text-gray-500 hover:text-gray-700 text-xl font-bold px-2 py-1 hover:bg-gray-200 rounded"
                                                >
                                                    ✕
                                                </button>
                                            </div>
                                            
                                            <div className="grid md:grid-cols-3 gap-6">
                                                {/* Información Principal */}
                                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                                    <h4 className="font-semibold text-gray-900 mb-3 flex items-center gap-2">
                                                        <IconFileText />
                                                        Información Principal
                                                    </h4>
                                                    <div className="space-y-3">
                                                        <div>
                                                            <span className="text-sm font-medium text-gray-600">Categoría:</span>
                                                            <p className="text-gray-900">{task.category}</p>
                                                        </div>
                                                        <div>
                                                            <span className="text-sm font-medium text-gray-600">Descripción:</span>
                                                            <p className="text-gray-900">{task.task}</p>
                                                        </div>
                                                        <div>
                                                            <span className="text-sm font-medium text-gray-600">Responsable:</span>
                                                            <p className="text-gray-900 flex items-center gap-2">
                                                                <IconUser />
                                                                {task.responsible}
                                                            </p>
                                                        </div>
                                                        <div>
                                                            <span className="text-sm font-medium text-gray-600">Entregable:</span>
                                                            <div className={`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm ${deliverableTypes[task.deliverable]?.color}`}>
                                                                {deliverableTypes[task.deliverable]?.icon}
                                                                {task.deliverable}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                {/* Progreso y Estado */}
                                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                                    <h4 className="font-semibold text-gray-900 mb-3 flex items-center gap-2">
                                                        <IconBarChart />
                                                        Progreso y Estado
                                                    </h4>
                                                    <div className="space-y-4">
                                                        <div>
                                                            <div className="flex justify-between items-center mb-2">
                                                                <span className="text-sm font-medium text-gray-600">Progreso:</span>
                                                                <span className="text-lg font-bold text-gray-900">{task.progress}%</span>
                                                            </div>
                                                            <div className="w-full bg-gray-200 rounded-full h-3">
                                                                <div 
                                                                    className={`h-3 rounded-full transition-all ${getProgressColor(task.progress)}`}
                                                                    style={{ width: `${task.progress}%` }}
                                                                ></div>
                                                            </div>
                                                        </div>
                                                        
                                                        <div>
                                                            <span className="text-sm font-medium text-gray-600">Estado:</span>
                                                            <div className="flex items-center gap-2 mt-1">
                                                                <div className={`w-4 h-4 rounded-full ${getStatusColor(task.status)}`}></div>
                                                                <span className="text-gray-900 capitalize">
                                                                    {task.status === 'to-do' ? 'Por hacer' : task.status === 'in-progress' ? 'En progreso' : 'Completado'}
                                                                </span>
                                                            </div>
                                                        </div>

                                                        <div>
                                                            <span className="text-sm font-medium text-gray-600">Prioridad:</span>
                                                            <div className="flex items-center gap-2 mt-1">
                                                                <div className={`w-4 h-4 rounded-full ${getPriorityDot(task.priority)}`}></div>
                                                                <span className="text-gray-900 capitalize">
                                                                    {task.priority === 'high' ? 'Alta' : task.priority === 'medium' ? 'Media' : 'Baja'}
                                                                </span>
                                                            </div>
                                                        </div>

                                                        {isTaskOverdue(task) && (
                                                            <div className="bg-red-50 border border-red-200 rounded-lg p-3">
                                                                <div className="flex items-center gap-2 text-red-700">
                                                                    <IconAlertCircle />
                                                                    <span className="text-sm font-medium">Tarea Vencida</span>
                                                                </div>
                                                                <p className="text-red-600 text-xs mt-1">
                                                                    Esta tarea tiene fechas programadas que ya pasaron y no está completada.
                                                                </p>
                                                            </div>
                                                        )}
                                                    </div>
                                                </div>

                                                {/* Cronograma y Dependencias */}
                                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                                    <h4 className="font-semibold text-gray-900 mb-3 flex items-center gap-2">
                                                        <IconCalendar />
                                                        Cronograma y Dependencias
                                                    </h4>
                                                    <div className="space-y-4">
                                                        <div>
                                                            <span className="text-sm font-medium text-gray-600">Semanas programadas:</span>
                                                            <div className="flex flex-wrap gap-2 mt-2">
                                                                {task.weeks.length > 0 ? task.weeks.map(weekId => {
                                                                    const week = weeks.find(w => w.id === weekId);
                                                                    return (
                                                                        <span key={weekId} className={`px-3 py-1 ${week.color} text-white text-xs rounded-full flex items-center gap-1`}>
                                                                            <IconClock className="w-3 h-3" />
                                                                            {week.label} ({week.dates})
                                                                        </span>
                                                                    );
                                                                }) : (
                                                                    <span className="text-gray-500 text-sm italic">Sin fechas específicas</span>
                                                                )}
                                                            </div>
                                                        </div>

                                                        {task.dependencies.length > 0 && (
                                                            <div>
                                                                <span className="text-sm font-medium text-gray-600">Dependencias:</span>
                                                                <div className="mt-2 space-y-2">
                                                                    {task.dependencies.map(depId => {
                                                                        const depTask = tasks.find(t => t.id === depId);
                                                                        return (
                                                                            <div key={depId} className="bg-orange-50 border border-orange-200 rounded-lg p-2">
                                                                                <div className="flex items-center gap-2">
                                                                                    <IconNetwork className="w-3 h-3 text-orange-600" />
                                                                                    <span className="text-xs font-medium text-orange-800">{depTask?.category}</span>
                                                                                </div>
                                                                                <p className="text-xs text-orange-700 mt-1">{depTask?.task}</p>
                                                                                <div className="flex items-center justify-between mt-1">
                                                                                    <span className="text-xs text-orange-600">{depTask?.responsible}</span>
                                                                                    <div className={`w-2 h-2 rounded-full ${getStatusColor(depTask?.status)}`}></div>
                                                                                </div>
                                                                            </div>
                                                                        );
                                                                    })}
                                                                </div>
                                                            </div>
                                                        )}

                                                        {task.dependencies.length === 0 && (
                                                            <div className="text-center py-4">
                                                                <IconZap className="w-8 h-8 text-green-500 mx-auto mb-2" />
                                                                <p className="text-sm text-gray-600">Sin dependencias</p>
                                                                <p className="text-xs text-gray-500">Puede iniciarse inmediatamente</p>
                                                            </div>
                                                        )}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    );
                                })()}
                            </div>
                        )}

                        {/* Advanced Statistics */}
                        <div className="bg-gradient-to-r from-gray-50 to-blue-50 p-6 border-t">
                            <h3 className="text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2">
                                <IconBarChart className="w-5 h-5" />
                                Estadísticas del Proyecto
                            </h3>
                            
                            <div className="grid grid-cols-2 md:grid-cols-6 gap-4 mb-6">
                                <div className="text-center bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-2xl font-bold text-blue-600">{filteredTasks.length}</div>
                                    <div className="text-sm text-gray-600">Total Tareas</div>
                                </div>
                                <div className="text-center bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-2xl font-bold text-red-600">{filteredTasks.filter(t => t.priority === 'high').length}</div>
                                    <div className="text-sm text-gray-600">Alta Prioridad</div>
                                </div>
                                <div className="text-center bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-2xl font-bold text-green-600">{filteredTasks.filter(t => t.status === 'done').length}</div>
                                    <div className="text-sm text-gray-600">Completadas</div>
                                </div>
                                <div className="text-center bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-2xl font-bold text-blue-600">{filteredTasks.filter(t => t.status === 'in-progress').length}</div>
                                    <div className="text-sm text-gray-600">En Progreso</div>
                                </div>
                                <div className="text-center bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-2xl font-bold text-orange-600">{filteredTasks.filter(t => isTaskOverdue(t)).length}</div>
                                    <div className="text-sm text-gray-600">Vencidas</div>
                                </div>
                                <div className="text-center bg-white rounded-lg p-4 shadow-sm">
                                    <div className="text-2xl font-bold text-purple-600">{Math.round(filteredTasks.reduce((acc, t) => acc + t.progress, 0) / filteredTasks.length)}%</div>
                                    <div className="text-sm text-gray-600">Progreso Promedio</div>
                                </div>
                            </div>

                            {/* Progress by Category */}
                            <div className="mb-6">
                                <h4 className="font-medium text-gray-900 mb-3">Progreso por Categoría</h4>
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-3">
                                    {uniqueCategories.map(category => {
                                        const categoryTasks = filteredTasks.filter(t => t.category === category);
                                        const avgProgress = Math.round(categoryTasks.reduce((acc, t) => acc + t.progress, 0) / categoryTasks.length);
                                        return (
                                            <div key={category} className="bg-white rounded-lg p-3 shadow-sm">
                                                <div className="flex justify-between items-center mb-2">
                                                    <span className="text-sm font-medium text-gray-700 truncate">{category}</span>
                                                    <span className="text-sm font-bold text-gray-900">{avgProgress}%</span>
                                                </div>
                                                <div className="w-full bg-gray-200 rounded-full h-2">
                                                    <div 
                                                        className={`h-2 rounded-full ${getProgressColor(avgProgress)}`}
                                                        style={{ width: `${avgProgress}%` }}
                                                    ></div>
                                                </div>
                                                <div className="text-xs text-gray-500 mt-1">{categoryTasks.length} tarea(s)</div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>

                            {/* Footer Info */}
                            <div className="text-center text-gray-500 text-sm border-t pt-4">
                                <p>Cronograma generado el {new Date().toLocaleDateString('es-ES')} | Show 2025</p>
                                <p className="mt-1">Última actualización: Semana 30 (21-27 Jul 2025)</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<CronogramaShow />, document.getElementById('root'));
    </script>
</body>
</html> 
                            title="Por Hacer" 
                            tasks={todoTasks} 
                            bgColor="bg-gray-500" 
                            textColor="text-white" 
                        />
                        <KanbanColumn
